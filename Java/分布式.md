# 分布式、集群、微服务

**集群：**同一个应用部署到多台机器形成多个节点，强调物理形态

**分布式：**将同一个应用拆分为多个服务，部署到多个服务器上，服务之间相互调用整体形成一个完成的应用，强调的是工作方式

**微服务：**在分布式的基础上对应用进行更细颗粒度的拆分，强调业务需要彻底组件化和服务化，并提供一整套服务的治理、调用、注册发现、事务等解决方案

🌈分布式属于微服务，两者细微的差别就是微服务不一定分散在不同的服务器上，也可以部署在同一台服务器上



# 分布式事务

## 常用解决方案

* **基于XA协议：**两阶段提交和三阶段提交，需要数据库层面支持
* **基于事务补偿机制：**TCC，基于业务层面实现
* **本地消息表：**
* **基于事务消息：**



# 熔断，限流，降级

**熔断：**高并发时请求达到一定极限，服务会拒绝访问，返回一个友好提示，保护服务

​			比如排队买票时，售票员离开了，放了个暂停售票的牌子，排队的人去了另一个窗口买票，等售票员回来后，此窗口继续售票

**降级：**当服务的压力过大，会自动停止一些次要功能，释放更多的资源

​			比如厨房中，厨师又要洗菜、切菜、做菜，当客人太多时忙不过来，就不洗菜、切菜只做菜

**限流：**当请求过大时拒绝一些部分请求